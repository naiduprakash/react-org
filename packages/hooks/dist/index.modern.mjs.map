{"version":3,"file":"index.modern.mjs","sources":["../src/utils/debounce.ts","../src/use-debounce.ts","../src/use-async.ts"],"sourcesContent":["export default function debounce(\n  func: Function,\n  wait: number,\n  immediate?: boolean\n) {\n  let timeout: null | number = null;\n  return function (this: any) {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n    timeout && clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n","import { useCallback } from \"react\";\nimport debounce from \"./utils/debounce\";\n\nexport default function useDebounce(fn:Function, time:number, dependencies:Array<any>) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return useCallback(debounce(fn, time), dependencies);\n}\n","import {\n  Reducer,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n} from \"react\";\n\nimport useDebounce from \"./use-debounce\";\n\ntype Action = {\n  type: string;\n  payload?: any;\n};\n\ntype State = {\n  status?: string;\n  data?: any;\n  error?: any;\n  isIdle?: boolean;\n  isPending?: boolean;\n  isComplete?: boolean;\n  isSuccess?: boolean;\n  isError?: boolean;\n  isReset?: boolean;\n  cancel?: Function; // __TODO__: update with proper fn type\n  debounceExecute?: Function; // __TODO__: update with proper fn type\n  execute?: Function; // __TODO__: update with proper fn type\n  reset?: Function; // __TODO__: update with proper fn type\n  setQueryData?: Function; // __TODO__: update with proper fn type\n};\n\ntype Config = {\n  intialState?: State;\n  enabled?: boolean;\n  immediate?: boolean;\n  infinite?: boolean;\n  overwrite?: boolean;\n  select?: Function;\n  onError?: Function;\n  onSuccess?: Function;\n  onStart?: Function;\n  onComplete?: Function;\n  debounceTime?: number;\n};\n\nconst FUNCTION_PLACEHOLDER = () => {};\n\nconst ASYNC_STATUS = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  SUCCESS: \"success\",\n  ERROR: \"error\",\n};\n\nconst ACTION_TYPES = {\n  START: \"start\",\n  SUCCESS: \"success\",\n  ERROR: \"error\",\n  COMPLETE: \"complete\",\n  RESET: \"reset\",\n  SET_DATA: \"set-data\",\n};\n\nconst API_CANCELED_ERROR = \"canceled\";\n\nconst INITIAL_STATE: State = {\n  status: ASYNC_STATUS.IDLE,\n  data: null,\n  error: null,\n  isIdle: true,\n  isPending: false,\n  isComplete: false,\n  isSuccess: false,\n  isError: false,\n  isReset: false,\n};\n\nfunction handleActionStart(state: State, action: Action) {\n  const updatedState = {\n    ...state,\n    status: ASYNC_STATUS.PENDING,\n    isComplete: false,\n  };\n  if (action.payload.overwrite) {\n    updatedState.data = [];\n  }\n  return updatedState;\n}\n\nfunction handleActionSuccess(state: State, action: Action) {\n  const { data: _data, infinite, overwrite, paginate } = action.payload;\n  let data;\n  if (infinite) {\n    data = overwrite ? _data : [...(state.data || []), ..._data];\n  } else {\n    data = action.payload;\n  }\n  return {\n    ...state,\n    status: ASYNC_STATUS.SUCCESS,\n    data: data,\n    paginate: paginate,\n  };\n}\n\nfunction handleActionError(state = {}, action: Action) {\n  return { ...state, status: ASYNC_STATUS.ERROR, error: action.payload };\n}\nfunction handleActionComplete(state = {}, action: Action) {\n  return { ...state, isComplete: true };\n}\nfunction handleActionReset(state = {}, action: Action) {\n  return { ...state, ...INITIAL_STATE, isComplete: false, isReset: true };\n}\nfunction handleActionSetData(state = {}, action: Action) {\n  return { ...state, data: action.payload };\n}\n\nconst asyncReducer: Reducer<State, Action> = (\n  state = INITIAL_STATE,\n  action: Action\n) => {\n  switch (action.type) {\n    case ACTION_TYPES.START: {\n      return handleActionStart(state, action);\n    }\n    case ACTION_TYPES.SUCCESS: {\n      return handleActionSuccess(state, action);\n    }\n    case ACTION_TYPES.ERROR: {\n      return handleActionError(state, action);\n    }\n    case ACTION_TYPES.COMPLETE: {\n      return handleActionComplete(state, action);\n    }\n    case ACTION_TYPES.RESET: {\n      return handleActionReset(state, action);\n    }\n    case ACTION_TYPES.SET_DATA: {\n      return handleActionSetData(state, action);\n    }\n    default: {\n      throw new Error(`Action ${action.type} is not handled in asyncReducer`);\n    }\n  }\n};\n\nexport default function useAsync(\n  asyncFunction: Function,\n  defaultConfig: Config = {}\n) {\n  const {\n    intialState = {},\n    enabled = true,\n    immediate = true,\n    infinite = false,\n    select,\n    onError = FUNCTION_PLACEHOLDER,\n    onSuccess = FUNCTION_PLACEHOLDER,\n    onStart = FUNCTION_PLACEHOLDER,\n    onComplete = FUNCTION_PLACEHOLDER,\n    debounceTime = 200,\n  } = defaultConfig;\n\n  // Note: required for React.Strictmode to work\n  const ignoreRef = useRef(false);\n\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  const [state, dispatch] = useReducer(\n    asyncReducer,\n    Object.assign({}, INITIAL_STATE, intialState)\n  );\n\n  const handleSetQueryData = useCallback((_data: any) => {\n    dispatch({\n      type: ACTION_TYPES.SET_DATA,\n      payload: _data,\n    });\n  }, []);\n\n  const handleExecute = useCallback(\n    (args: any = {}, config: Config = {}) => {\n      (async () => {\n        dispatch({\n          type: ACTION_TYPES.START,\n          payload: { overwrite: config.overwrite },\n        });\n        abortControllerRef.current = new AbortController();\n        const _onStart = config?.onStart || onStart;\n\n        await _onStart();\n        asyncFunction({ ...args, signal: abortControllerRef.current.signal })\n          .then(async (res: any) => {\n            let payload;\n            if (select) {\n              const selectRes = select(res);\n              payload = {\n                data: selectRes?.data,\n                paginate: selectRes?.paginate,\n              };\n            } else if (infinite) {\n              payload = {\n                data: res?.data?.data,\n                paginate: res?.data?.paginate,\n              };\n            } else {\n              payload = res;\n            }\n\n            payload.overwrite = config.overwrite;\n            payload.infinite = infinite;\n\n            dispatch({ type: ACTION_TYPES.SUCCESS, payload: payload });\n            const _onSuccess = config?.onSuccess || onSuccess;\n            await _onSuccess(payload);\n          })\n          .catch(async (err: any) => {\n            // IGNORED cancelled  error\n            if (err.message === API_CANCELED_ERROR) return;\n\n            dispatch({\n              type: ACTION_TYPES.ERROR,\n              payload: err?.response || err,\n            });\n            const _onError = config?.onError || onError;\n            await _onError(err);\n          })\n          .finally(async () => {\n            dispatch({ type: ACTION_TYPES.COMPLETE });\n            const _onComplete = config?.onComplete || onComplete;\n            await _onComplete();\n          });\n      })();\n    },\n    [asyncFunction, infinite, onComplete, onError, onStart, onSuccess, select]\n  );\n\n  const handleDebounceExecute = useDebounce(handleExecute, debounceTime, [\n    handleExecute,\n    debounceTime,\n  ]);\n\n  const handleReset = useCallback(() => {\n    dispatch({ type: ACTION_TYPES.RESET });\n  }, []);\n\n  const handleCancel = useCallback(() => {\n    abortControllerRef?.current?.abort?.();\n  }, []);\n\n  useEffect(() => {\n    if (\n      !ignoreRef.current &&\n      state.status === ASYNC_STATUS.IDLE &&\n      immediate &&\n      enabled\n    ) {\n      handleExecute();\n    }\n    return () => {\n      ignoreRef.current = true;\n    };\n  }, [enabled, handleExecute, immediate, state, state.status]);\n\n  return useMemo(() => {\n    return {\n      ...state,\n\n      reset: handleReset,\n      cancel: handleCancel,\n      execute: handleExecute,\n      setQueryData: handleSetQueryData,\n      debounceExecute: handleDebounceExecute,\n\n      isIdle: state.status === ASYNC_STATUS.IDLE,\n      isPending: state.status === ASYNC_STATUS.PENDING,\n      isError: state.status === ASYNC_STATUS.ERROR,\n      isSuccess: state.status === ASYNC_STATUS.SUCCESS,\n    };\n  }, [\n    state,\n    handleExecute,\n    handleDebounceExecute,\n    handleSetQueryData,\n    handleReset,\n    handleCancel,\n  ]);\n}\n"],"names":["debounce","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","window","setTimeout","useDebounce","fn","time","dependencies","useCallback","FUNCTION_PLACEHOLDER","ASYNC_STATUS","IDLE","PENDING","SUCCESS","ERROR","ACTION_TYPES","START","COMPLETE","RESET","SET_DATA","API_CANCELED_ERROR","INITIAL_STATE","status","data","error","isIdle","isPending","isComplete","isSuccess","isError","isReset","handleActionStart","state","action","updatedState","payload","overwrite","handleActionSuccess","_data","infinite","paginate","handleActionError","handleActionComplete","handleActionReset","handleActionSetData","asyncReducer","type","Error","useAsync","asyncFunction","defaultConfig","intialState","enabled","select","onError","onSuccess","onStart","onComplete","debounceTime","ignoreRef","useRef","abortControllerRef","dispatch","useReducer","Object","assign","handleSetQueryData","handleExecute","config","current","AbortController","_onStart","signal","then","res","selectRes","_onSuccess","catch","err","message","response","_onError","finally","_onComplete","handleDebounceExecute","handleReset","handleCancel","abort","useEffect","useMemo","reset","cancel","execute","setQueryData","debounceExecute"],"mappings":"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"}